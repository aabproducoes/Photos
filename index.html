<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>Mirror-Hand Gallery</title>
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{background:#000;color:#fff;font-family:sans-serif;overflow:hidden}

/*--- container that pages by 50 vh ---*/
.gallery{height:100vh;overflow:hidden;scroll-behavior:smooth}

/*--- each half-screen “frame” ---*/
.frame{
  height:50vh;                /* two frames fill the viewport      */
  display:flex;align-items:center;justify-content:center;
  position:relative;
}
.frame.flip img{transform:scaleY(-1)} /* mirror bottom hand          */

/*--- 3-card “hand” centred in the frame ---*/
.hand{display:flex;gap:12px}
.card{
  width:30vmin;aspect-ratio:3/4;   /* responsive cards               */
  overflow:hidden;border-radius:6px;
}
.card img{width:100%;height:100%;object-fit:cover}

/*--- section titles ---*/
.title{
  position:absolute;left:50%;transform:translateX(-50%);
  font-size:1.4rem;background:rgba(0,0,0,.65);padding:4px 10px;
  border-radius:4px
}
.title.top{top:8px}
.title.bottom{bottom:8px}
</style>
</head>
<body>

<div class="gallery" id="gallery"></div>

<script>
(async ()=>{
  const data = await fetch('photos.json').then(r=>r.json());
  const container = document.getElementById('gallery');

  /* build frames in normal / mirrored pairs */
  data.categories.forEach(cat=>{
    /* ---- top frame ---- */
    const top = document.createElement('section');
    top.className='frame';
    top.innerHTML=`
      <div class="title top">${cat.name}</div>
      <div class="hand">
        ${cat.photos.slice(0,3).map(p=>`
          <figure class="card"><img src="${p.url}" alt="${p.alt}"></figure>`
        ).join('')}
      </div>`;
    container.appendChild(top);

    /* ---- mirrored bottom frame ---- */
    const bottom = document.createElement('section');
    bottom.className='frame flip';
    bottom.innerHTML=`
      <div class="title bottom">${cat.name}</div>
      <div class="hand">
        ${cat.photos.slice(0,3).map(p=>`
          <figure class="card"><img src="${p.url}" alt="${p.alt}"></figure>`
        ).join('')}
      </div>`;
    container.appendChild(bottom);
  });

  /* simple wheel paging (half-screen per wheel) */
  const step = window.innerHeight/2;
  let lock=false;
  container.addEventListener('wheel',e=>{
    e.preventDefault();if(lock)return;
    lock=true;setTimeout(()=>lock=false,250);
    const dir = e.deltaY>0 ? 1 : -1;
    container.scrollBy({top:dir*step,behavior:'smooth'});
  },{passive:false});
})();
</script>
</body>
</html>
