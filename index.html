<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Simple JSON-Driven Gallery</title>

<style>
*{box-sizing:border-box;margin:0;padding:0}
body{background:#000;color:#fff;font-family:sans-serif;overflow:hidden}
header{padding:60px 20px;text-align:center}
h1{font-size:2.5rem}
.gallery-container{height:100vh;overflow:hidden;position:relative}
.category{
  height:calc(50vh - 40px);padding:20px;overflow:hidden;
  display:flex;flex-direction:column;gap:16px;justify-content:flex-start
}
.category h2{text-align:center;margin-bottom:10px}
.grid{
  flex:1;display:grid;gap:16px;
  grid-template-columns:repeat(auto-fit,minmax(300px,1fr))
}
.grid img{width:100%;height:100%;object-fit:cover;border-radius:6px}
.nav{
  position:fixed;top:50%;right:10px;transform:translateY(-50%);
  display:flex;flex-direction:column;gap:16px
}
.nav button{
  width:42px;height:42px;border:none;border-radius:50%;font-size:1.2rem;
  cursor:pointer;background:#00bcd4;color:#000
}
.nav button:disabled{background:#333;color:#777;cursor:not-allowed}
</style>
</head>
<body>

<header><h1>Photos</h1></header>

<div class="gallery-container" id="gallery"></div>

<div class="nav">
  <button id="up" disabled>↑</button>
  <button id="down">↓</button>
</div>

<script>
(async () => {
  // load JSON
  const data = await fetch('photos.json').then(r => r.json());

  const gallery = document.getElementById('gallery');
  // build markup
  data.categories.forEach(c => {
    const s = document.createElement('section');
    s.className = 'category';
    s.innerHTML = `<h2>${c.name}</h2>
      <div class="grid">
        ${c.photos.map(p =>
          `<img src="${p.url}" alt="${p.alt}" loading="lazy">`).join('')}
      </div>`;
    gallery.appendChild(s);
  });

  // simple vertical paging (two categories visible)
  const cats = document.querySelectorAll('.category');
  const step = cats[0].offsetHeight;
  const max  = cats.length - 2;
  let idx = 0;

  const up   = document.getElementById('up');
  const down = document.getElementById('down');
  const update = () => {
    up.disabled   = idx === 0;
    down.disabled = idx === max;
  };
  const scrollTo = i => {
    gallery.scrollTo({top: i * step, behavior: 'smooth'});
    idx = i; update();
  };
  up.addEventListener('click',   () => idx > 0   && scrollTo(idx - 1));
  down.addEventListener('click', () => idx < max && scrollTo(idx + 1));

  gallery.addEventListener('wheel', e => {
    e.preventDefault();
    (e.deltaY > 0 ? down : up).click();
  }, {passive:false});

  update();
})();
</script>
</body>
</html>
